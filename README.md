# Web-Hw3

این مخزن حاوی کدهای تکلیف سوم درس وب (Web-Hw3) از کاربر **Amirhossein-Mp** هست. پروژه یه اپلیکیشن وب برای نقاشی آنلاینه که به کاربران اجازه می‌ده اشکال هندسی (دایره، مربع، مثلث) رو روی یه بوم بکشن، ذخیره کنن و بازیابی کنن. این پروژه شامل دو بخش اصلیه:
- **بک‌اند**: یه API نوشته‌شده با Spring Boot که داده‌های کاربران و نقاشی‌ها رو در یه دیتابیس H2 ذخیره می‌کنه.
- **فرانت‌اند**: یه اپلیکیشن React که رابط کاربری برای ورود کاربر و نقاشی فراهم می‌کنه.

## ویژگی‌ها
- **ورود کاربر**: کاربران می‌تونن با نام کاربری‌های پیش‌فرض (مثل `user1`, `user2`, `user3`) وارد سیستم بشن.
- **نقاشی**: اضافه کردن اشکال با کلیک یا Drag-and-Drop از سایدبار.
- **ذخیره و بازیابی**: ذخیره نقاشی‌ها در سرور یا به صورت فایل JSON و بازیابی اونا.
- **مدیریت اشکال**: جابجایی اشکال با کشیدن و حذف اونا با دابل‌کلیک.
- **رابط کاربری ساده**: طراحی شده با CSS خالص.

## ساختار پروژه
```
├── backend/                # کدهای بک‌اند (Spring Boot)
│   ├── src/
│   ├── pom.xml
│   └── ...
├── frontend/               # کدهای فرانت‌اند (React)
│   ├── src/
│   ├── package.json
│   └── ...
├── README.md
```

## پیش‌نیازها
- **Node.js** (v16 یا بالاتر) و **npm** برای فرانت‌اند
- **Java 17** و **Maven** برای بک‌اند
- **Git** برای کلون کردن مخزن
- مرورگر مدرن (مثل Chrome یا Firefox)

## راه‌اندازی پروژه

### 1. کلون کردن مخزن
```bash
git clone https://github.com/Amirhossein-Mp/Web-Hw3.git
cd Web-Hw3
```

### 2. راه‌اندازی بک‌اند
1. به پوشه بک‌اند برید:
   ```bash
   cd backend
   ```
2. وابستگی‌ها رو نصب کنید:
   ```bash
   mvn clean install
   ```
3. بک‌اند رو اجرا کنید:
   ```bash
   mvn spring-boot:run
   ```
   - بک‌اند روی `http://localhost:8080` اجرا می‌شه.
   - کنسول H2 در `http://localhost:8080/h2-console` در دسترسه (JDBC URL: `jdbc:h2:mem:testdb`, Username: `sa`, Password: خالی).

### 3. راه‌اندازی فرانت‌اند
1. به پوشه فرانت‌اند برید:
   ```bash
   cd frontend
   ```
2. وابستگی‌ها رو نصب کنید:
   ```bash
   npm install
   ```
3. فرانت‌اند رو اجرا کنید:
   ```bash
   npm start
   ```
   - فرانت‌اند روی `http://localhost:3000` اجرا می‌شه.

### 4. تست اپلیکیشن
1. مرورگر رو باز کنید و به `http://localhost:3000` برید.
2. با یکی از نام‌های کاربری پیش‌فرض (`user1`, `user2`, یا `user3`) وارد شید.
3. اشکال رو روی بوم بکشید، ذخیره کنید (در سرور یا فایل JSON) و بازیابی کنید.

## جزئیات فنی
### بک‌اند
- **فریم‌ورک**: Spring Boot
- **دیتابیس**: H2 (دیتابیس در حافظه)
- **APIها**:
  - `POST /api/users/login`: ورود کاربر با نام کاربری.
  - `POST /api/paintings`: ذخیره نقاشی برای یه کاربر.
  - `GET /api/paintings/{username}`: بازیابی نقاشی کاربر.
- **تنظیمات CORS**: اجازه دسترسی از `http://localhost:3000`.

### فرانت‌اند
- **فریم‌ورک**: React
- **کتابخانه‌ها**:
  - `axios`: برای درخواست‌های HTTP به بک‌اند.
  - `lucide-react`: برای آیکون‌ها.
- **ویژگی‌ها**:
  - صفحه ورود ساده.
  - بوم نقاشی با قابلیت Drag-and-Drop.
  - ذخیره و بازیابی نقاشی‌ها از سرور یا فایل JSON.

## رفع اشکال
- **خطای CORS**: مطمئن شید که فایل `WebConfig.java` در بک‌اند وجود داره و CORS برای `http://localhost:3000` فعاله.
- **خطای 401 Unauthorized**: چک کنید که کاربران (`user1`, `user2`, `user3`) در جدول `users` در دیتابیس H2 وجود دارن:
  ```sql
  SELECT * FROM users;
  ```
  اگر جدول خالیه، فایل `data.sql` رو بررسی کنید.
- **مشکلات دیتابیس**: کنسول H2 (`http://localhost:8080/h2-console`) رو برای بررسی جداول `users` و `painting` باز کنید.

## توسعه‌های آینده
- اضافه کردن امکان انتخاب رنگ و اندازه اشکال.
- پشتیبانی از چندین نقاشی برای هر کاربر.
- بهبود رابط کاربری با انیمیشن‌ها.

## مشارکت
برای مشارکت در پروژه:
1. مخزن رو فورک کنید.
2. تغییرات رو در یه شاخه جدید اعمال کنید:
   ```bash
   git checkout -b feature/your-feature
   ```
3. تغییرات رو پوش کنید و Pull Request بسازید.

## لایسنس
این پروژه تحت [لایسنس MIT](LICENSE) منتشر شده.